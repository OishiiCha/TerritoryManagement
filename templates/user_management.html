{% extends 'base.html' %}

{% block content %}
  <h1>User Management</h1>
  <form method="POST" action="{{ url_for('user_management') }}" enctype="multipart/form-data">
    {{ form.csrf_token }}
    <div class="form-group">
      <label for="{{ form.name.id }}">Name</label>
      {{ form.name(class="form-control", id=form.name.id) }}
    </div>
    <div class="form-group">  <!-- Add this div for the email input box -->
      <label for="{{ form.email.id }}">Email</label>
      {{ form.email(class="form-control", id=form.email.id) }}
    </div>
    <div class="form-group">
      {{ form.submit(class="btn btn-primary") }}
    </div>
  </form>
  <h2>Current Users</h2>
  <table class="table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for user in users %}
        <tr>
          <td>{{ user.id }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>
            <a href="{{ url_for('edit_user', user_id=user.id) }}" class="btn btn-warning">Edit</a>
            <a href="{{ url_for('delete_user', user_id=user.id) }}" class="btn btn-danger">Delete</a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
